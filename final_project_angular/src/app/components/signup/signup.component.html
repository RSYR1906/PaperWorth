<div class="signup-page-container">

  <!-- Signup Content -->
  <main class="signup-container">
    <!-- Main Logo -->
    <div class="logo-container">
      <img src="/logo.png" alt="PaperWorth Logo" height="135">
    </div>

    <h2>Welcome to PaperWorth</h2>
    <p class="signup-subtitle">Start tracking your expenses and discovering promotions</p>

    <!-- Error Message Display -->
    <div class="error-message" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <!-- Signup Form -->
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <!-- Full Name -->
      <div class="form-group">
        <div class="input-with-icon">
          <span class="input-icon">ğŸ‘¤</span>
          <input 
            type="text" 
            id="name" 
            formControlName="name" 
            placeholder="Username"
            [class.invalid]="f['name'].touched && f['name'].invalid"
          >
        </div>
        <div class="validation-error" *ngIf="f['name'].touched && f['name'].errors">
          <span *ngIf="f['name'].errors['required']">Username is required</span>
          <span *ngIf="f['name'].errors['minlength']">Username must be at least 2 characters</span>
        </div>
      </div>

      <!-- Email -->
      <div class="form-group">
        <div class="input-with-icon">
          <span class="input-icon">âœ‰ï¸</span>
          <input 
            type="email" 
            id="email" 
            formControlName="email" 
            placeholder="Email Address"
            [class.invalid]="f['email'].touched && f['email'].invalid"
          >
        </div>
        <div class="validation-error" *ngIf="f['email'].touched && f['email'].errors">
          <span *ngIf="f['email'].errors['required']">Email is required</span>
          <span *ngIf="f['email'].errors['email']">Please enter a valid email address</span>
        </div>
      </div>

      <!-- Password -->
      <div class="form-group password-group">
        <div class="input-with-icon">
          <span class="input-icon">ğŸ”’</span>
          <div class="password-input-container">
            <input 
              [type]="passwordVisible ? 'text' : 'password'" 
              id="password" 
              formControlName="password" 
              placeholder="Create a Password"
              [class.invalid]="f['password'].touched && f['password'].invalid"
            >
            <button 
              type="button" 
              class="password-toggle" 
              (click)="togglePasswordVisibility()"
              aria-label="Toggle password visibility"
            >
              {{ passwordVisible ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </button>
          </div>
        </div>
        <div class="validation-error" *ngIf="f['password'].touched && f['password'].errors">
          <span *ngIf="f['password'].errors['required']">Password is required</span>
          <span *ngIf="f['password'].errors['minlength']">
            Password must be at least 8 characters, with uppercase and numeric characters
          </span>
        </div>
      </div>

      <!-- Confirm Password -->
      <div class="form-group password-group">
        <div class="input-with-icon">
          <span class="input-icon">ğŸ”’</span>
          <div class="password-input-container">
            <input 
              [type]="confirmPasswordVisible ? 'text' : 'password'" 
              id="confirmPassword" 
              formControlName="confirmPassword" 
              placeholder="Confirm Password"
              [class.invalid]="f['confirmPassword'].touched && f['confirmPassword'].invalid"
            >
            <button 
              type="button" 
              class="password-toggle" 
              (click)="toggleConfirmPasswordVisibility()"
              aria-label="Toggle confirm password visibility"
            >
              {{ confirmPasswordVisible ? 'ğŸ‘ï¸' : 'ğŸ‘ï¸â€ğŸ—¨ï¸' }}
            </button>
          </div>
        </div>
        <div class="validation-error" *ngIf="f['confirmPassword'].touched && f['confirmPassword'].errors">
          <span *ngIf="f['confirmPassword'].errors['required']">Please confirm your password</span>
          <span *ngIf="f['confirmPassword'].errors['mismatch']">Passwords do not match</span>
        </div>
      </div>

      <!-- Terms and Conditions -->
      <div class="form-group checkbox-group">
        <label class="checkbox-label">
          <input type="checkbox" formControlName="agreeTerms">
          <span>
            I agree to the <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
          </span>
        </label>
        <div class="validation-error" *ngIf="f['agreeTerms'].touched && f['agreeTerms'].invalid">
          <span>You must agree to the terms and conditions</span>
        </div>
      </div>

      <!-- Submit Button -->
      <button 
        type="submit" 
        class="signup-btn" 
        [disabled]="isLoading"
      >
        <span class="btn-icon">âœ¨</span>
        <span>{{ isLoading ? 'Creating account...' : 'Create Account' }}</span>
      </button>
    </form>

    <!-- Login Navigation -->
    <p class="login-text">
      Already have an account? 
      <a routerLink="/login" routerLinkActive="active">Login</a>
    </p>

    <!-- Social Signup Section -->
    <div class="divider">
      <span></span>
      <p>OR</p>
      <span></span>
    </div>

    <div class="social-signup">
      <button class="google-signup" (click)="signUpWithGoogle()">
        <img src="https://cdn-icons-png.flaticon.com/512/281/281764.png" alt="Google Icon">
        <span>Sign up with Google</span>
      </button>
    </div>
  </main>

  <!-- Decorative Elements -->
  <div class="decorative-circle circle-1"></div>
  <div class="decorative-circle circle-2"></div>
  <div class="decorative-circle circle-3"></div>
</div>
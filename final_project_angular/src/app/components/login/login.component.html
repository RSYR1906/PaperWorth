<div class="login-container">
  <h2>Login to ReceiptSaver</h2>

  <!-- Error Message Display -->
  <div class="error-message" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <!-- Username & Password Login -->
  <form [formGroup]="loginForm" (ngSubmit)="login()">
    <div class="form-group">
      <input 
        type="text" 
        placeholder="Email" 
        formControlName="username" 
        [class.invalid]="f['username'].touched && f['username'].invalid"
      >
      <div class="validation-error" *ngIf="f['username'].touched && f['username'].errors">
        <span *ngIf="f['username'].errors['required']">Email is required</span>
        <span *ngIf="f['username'].errors['email']">Please enter a valid email address</span>
      </div>
    </div>
    
    <div class="form-group password-group">
      <div class="password-input-container">
        <input 
          [type]="showPassword ? 'text' : 'password'" 
          placeholder="Password" 
          formControlName="password"
          [class.invalid]="f['password'].touched && f['password'].invalid"
        >
        <button 
          type="button" 
          class="password-toggle" 
          (click)="togglePasswordVisibility()"
        >
          {{ showPassword ? '👁️' : '👁️‍🗨️' }}
        </button>
      </div>
      <div class="validation-error" *ngIf="f['password'].touched && f['password'].errors">
        <span *ngIf="f['password'].errors['required']">Password is required</span>
        <span *ngIf="f['password'].errors['minlength']">Password must be at least 6 characters</span>
      </div>
    </div>
    
    <button 
      type="submit" 
      class="login-btn"
      [disabled]="isLoading"
    >
      {{ isLoading ? 'Logging in...' : 'Login' }}
    </button>
    
    <!-- Demo Login -->
    <div class="demo-login">
      <button type="button" class="demo-login-btn" (click)="loginAsDemo()">
        Login as Demo User
      </button>
      <small>No password required - for testing only</small>
    </div>
  </form>

  <div class="divider">
    <span></span>
    <p>OR</p>
    <span></span>
  </div>

  <!-- Social Login Buttons -->
  <button class="google-login" (click)="loginWithGoogle()">
    <img src="https://cdn-icons-png.flaticon.com/512/281/281764.png" alt="Google Icon">
    Login with Google
  </button>
  
  <p class="register-text">Don't have an account? <a routerLink="/signup" routerLinkActive="active">Sign up</a></p>
</div>